(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{127:function(e,t,a){},204:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(43),s=a.n(i),r=(a(127),a(15)),l=a(71),o=a(14),d=a.n(o),j=a(21),b=a(4),u=a(41),h=a(74),m=a.n(h),O=m.a.create({baseURL:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).API_URL||"http://localhost:3001/"}),x=a(22),v=a(1),p=function(){var e=Object(n.useState)([]),t=Object(b.a)(e,2),a=t[0],c=t[1];Object(n.useEffect)((function(){i()}),[]);var i=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.get("/event");case 2:t=e.sent.data,s(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.get("/club/".concat(t.clubid));case 2:return a=e.sent.data,e.abrupt("return",{id:t.id,eventName:t.name,startTime:t.starttime,eventClub:a.name});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:a=e.sent,c(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r=[{field:"id",headerName:"ID",width:70,hide:!0},{field:"eventName",headerName:"EventName",flex:.5},{field:"eventClub",headerName:"EventHostClub",flex:.5},{field:"viewEvent",headerName:"",flex:.5,renderCell:function(e){return Object(v.jsx)(x.b,{to:"/event/".concat(e.id,"/view"),className:"btn btn-primary",children:"View Event"})}}];return Object(v.jsxs)("div",{style:{height:400,width:"100%"},children:[Object(v.jsx)("h1",{style:{},children:"Recently added events"}),Object(v.jsx)(u.a,{rows:a,columns:r,pageSize:5,rowsPerPageOptions:[2]})]})},f=a(265),g=a(214),w=a(264),y=a(263);function S(){return Object(v.jsx)(g.a,{sx:{flexGrow:1},style:{display:"flex"},children:Object(v.jsxs)(f.a,{position:"static",style:{flexFlow:"row",justifyContent:"space-between"},children:[Object(v.jsx)(w.a,{children:Object(v.jsx)(y.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:Object(v.jsx)("div",{children:Object(v.jsx)(x.c,{to:"/",children:"Sail app"})})})}),Object(v.jsx)(w.a,{children:Object(v.jsx)(y.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:Object(v.jsx)("div",{children:Object(v.jsx)(x.c,{to:"/login",children:"Login"})})})})]})})}var N=function(){return Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{className:"home-text",children:"HomePage"}),Object(v.jsxs)("div",{className:"home-container",children:[Object(v.jsx)("div",{className:"button-register-boat",children:Object(v.jsx)(l.a,{variant:"outlined",children:Object(v.jsx)(x.b,{to:"/register-boat",children:"Register a new boat from your club"})})}),Object(v.jsx)("div",{className:"button-register-eventhome",children:Object(v.jsx)(l.a,{variant:"outlined",children:Object(v.jsx)(x.b,{to:"/event/home",children:"Event Homepage"})})})]}),Object(v.jsx)("div",{className:"table-container",children:Object(v.jsx)(p,{})})]})},E=function(){return Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{className:"home-text",children:"Events Homepage"}),Object(v.jsxs)("div",{className:"home-container",children:[Object(v.jsx)("div",{className:"button-register-boat",children:Object(v.jsx)(l.a,{variant:"outlined",children:Object(v.jsx)(x.b,{to:"/event/create",children:"Create Event"})})}),Object(v.jsx)("div",{className:"button-register-eventhome",children:Object(v.jsx)(l.a,{variant:"outlined",children:Object(v.jsx)(x.b,{to:"/event/search",children:"Search all events"})})})]}),Object(v.jsx)("div",{className:"table-container",children:Object(v.jsx)(p,{})})]})},C=a(120),T=a(35),I=a(93),D=a(107),R=a(153),M=a(92),A=function(){var e=Object(n.useState)(""),t=Object(b.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(""),s=Object(b.a)(i,2),r=s[0],o=s[1],u=Object(n.useState)([]),h=Object(b.a)(u,2),x=h[0],p=h[1],f=Object(n.useState)([]),g=Object(b.a)(f,2),w=g[0],S=g[1],N=Object(n.useState)(""),E=Object(b.a)(N,2),A=E[0],Y=E[1],k=Object(n.useState)(""),B=Object(b.a)(k,2),F=B[0],P=B[1],L=function(){var e=Object(j.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.get("/club");case 2:return t=e.sent.data,p(t),e.next=6,O.get("/boat/class");case 6:a=e.sent.data,S(a.classes);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){L()}),[]);return Object(v.jsx)("div",{className:"register-boat-container",children:Object(v.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=[];""!==F&&""!==A&&""!==a&&""!==r||t.push("The form is not valid, please ensure all values are present"),t.length>0?alert(t):m.a.post("http://localhost:3001/boat",{classId:F,clubId:A,sailNo:r,name:a}).then((function(e){console.log(e)}),(function(e){console.log(e)}))},children:[Object(v.jsx)("div",{className:"boat-title-text",children:Object(v.jsx)(y.a,{variant:"h3",children:"Register Boat"})}),Object(v.jsxs)("div",{className:"boat-input-container",children:[Object(v.jsxs)(R.a,{style:{width:"100%",padding:"20px",display:"flex",flexFlow:"column",alignItems:"center"},children:[Object(v.jsx)(M.a,{id:"filled-basic",variant:"standard",label:"name",onChange:function(e){c(e.target.value)},value:a,style:{width:"100%",padding:"10px"}}),Object(v.jsx)(M.a,{id:"filled-basic",variant:"standard",label:"Sail NO",onChange:function(e){o(e.target.value)},value:r,style:{width:"100%",padding:"10px"}})]}),Object(v.jsx)("div",{children:Object(v.jsxs)(I.a,{sx:{m:1,minWidth:200},children:[Object(v.jsx)(C.a,{id:"demo-simple-select-autowidth-label",children:"Yacht Club"}),Object(v.jsxs)(D.a,{labelId:"demo-simple-select-autowidth-label",id:"demo-simple-select-autowidth",value:A,onChange:function(e){Y(e.target.value)},label:"Yacht Club",children:[Object(v.jsx)(T.a,{value:"",children:Object(v.jsx)("em",{children:"None"})}),x.map((function(e,t){return Object(v.jsx)(T.a,{value:t+1,children:e.name})}))]})]})}),Object(v.jsx)("div",{children:Object(v.jsxs)(I.a,{sx:{m:1,minWidth:200},children:[Object(v.jsx)(C.a,{id:"demo-simple-select-autowidth-label",children:"Yacht Class"}),Object(v.jsxs)(D.a,{labelId:"demo-simple-select-autowidth-label",id:"demo-simple-select-autowidth",value:F,onChange:function(e){P(e.target.value)},label:"Class",children:[Object(v.jsx)(T.a,{value:"",children:Object(v.jsx)("em",{children:"None"})}),w.map((function(e,t){return Object(v.jsx)(T.a,{value:t+1,children:e.name})}))]})]})}),Object(v.jsx)(l.a,{type:"submit",variant:"contained",children:"Register Boat"})]})]})})},Y=function(){var e=Object(n.useState)(""),t=Object(b.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(""),s=Object(b.a)(i,2),r=s[0],o=s[1],u=Object(n.useState)(""),h=Object(b.a)(u,2),x=h[0],p=h[1],f=Object(n.useState)(""),g=Object(b.a)(f,2),w=g[0],S=g[1],N=Object(n.useState)(""),E=Object(b.a)(N,2),A=E[0],Y=E[1],k=Object(n.useState)(""),B=Object(b.a)(k,2),F=B[0],P=B[1],L=Object(n.useState)([]),V=Object(b.a)(L,2),G=V[0],W=V[1],H=Object(n.useState)([]),z=Object(b.a)(H,2),_=z[0],U=z[1],K=function(){var e=Object(j.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.get("/club");case 2:return t=e.sent.data,W(t),e.next=6,O.get("/event/types");case 6:a=e.sent.data,U(a);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){K()}),[]);return Object(v.jsx)("div",{className:"events-create-container",children:Object(v.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=[];if(""!==A&&""!==a&&""!==w&&""!==F&&""!==r&&""!=x||t.push("The form is not valid, please ensure all values are present"),t.length>0)alert(t);else try{m.a.post("http://localhost:3001/event",{eventTypeId:A,name:a,description:w,clubId:F,startTime:r,endDate:x}).then((function(e){console.log(e),alert("Event successfully created")}),(function(e){console.log(e)}))}catch(n){console.log(n)}},style:{display:"flex",flexFlow:"column",justifyContent:"center",width:"90%"},children:[Object(v.jsxs)("div",{className:"events-create-input-container",children:[Object(v.jsx)("div",{className:"events-create-text",children:Object(v.jsx)(y.a,{variant:"h3",children:"Create Event"})}),Object(v.jsxs)(R.a,{style:{width:"80%",padding:"20px",display:"flex",flexFlow:"column",alignItems:"center"},children:[Object(v.jsx)("p",{children:"Event Name"}),Object(v.jsx)(M.a,{id:"filled-basic",variant:"standard",onChange:function(e){c(e.target.value)},value:a,style:{width:"100%"}}),Object(v.jsx)("p",{children:"Start Time"}),Object(v.jsx)(M.a,{id:"filled-basic",variant:"standard",type:"datetime-local",onChange:function(e){o(e.target.value)},value:r,style:{width:"100%"}}),Object(v.jsx)("p",{children:"End Time"}),Object(v.jsx)(M.a,{id:"filled-basic",variant:"standard",type:"datetime-local",onChange:function(e){p(e.target.value)},value:x,style:{width:"100%"}}),Object(v.jsx)("p",{children:"Description"}),Object(v.jsx)(M.a,{id:"filled-basic",onChange:function(e){S(e.target.value)},multiline:!0,rows:4,value:w,style:{width:"100%"}}),Object(v.jsxs)(I.a,{sx:{m:1,minWidth:200,width:"48%"},children:[Object(v.jsx)(C.a,{id:"demo-simple-select-autowidth-label",children:"EventType"}),Object(v.jsxs)(D.a,{labelId:"demo-simple-select-autowidth-label",id:"demo-simple-select-autowidth",value:A,onChange:function(e){Y(e.target.value)},label:"Event Type",children:[Object(v.jsx)(T.a,{value:"",children:Object(v.jsx)("em",{children:"None"})}),_.map((function(e,t){return Object(v.jsx)(T.a,{value:t+1,children:e.name})}))]})]}),Object(v.jsxs)(I.a,{sx:{m:1,minWidth:200,width:"48%"},children:[Object(v.jsx)(C.a,{id:"demo-simple-select-autowidth-label",children:"Yacht Club"}),Object(v.jsxs)(D.a,{labelId:"demo-simple-select-autowidth-label",id:"demo-simple-select-autowidth",value:F,onChange:function(e){P(e.target.value)},label:"Class",children:[Object(v.jsx)(T.a,{value:"",children:Object(v.jsx)("em",{children:"None"})}),G.map((function(e,t){return Object(v.jsx)(T.a,{value:t+1,children:e.name})}))]})]})]})]}),Object(v.jsx)(l.a,{type:"submit",variant:"contained",style:{marginTop:"50px",marginRight:"100px",marginLeft:"100px",marginBottom:"25px"},children:"Create Event"})]})})},k=a(33),B=a.n(k),F=function(e){var t=e.event,a=(e.getData,Object(n.useState)([])),c=Object(b.a)(a,2),i=c[0],s=c[1];Object(n.useEffect)((function(){console.log(t);var e=[];t.map((function(t){t.races.map((function(t){console.log(t),e.push({id:t.id,startTime:B()(t.starttime).format("MMM DD YYYY h:mm A"),class:t.class.name})}))})),s(e)}),[]);var r=[{field:"id",headerName:"ID",width:70,hide:!0},{field:"startTime",headerName:"startTime",flex:.4},{field:"class",headerName:"Class",flex:.2},{field:"modifyRace",headerName:"",flex:.2,renderCell:function(e){return Object(v.jsx)(x.b,{to:"/race/".concat(e.id,"/manage"),className:"btn btn-primary",children:"Manage Race"})}},{field:"deleteRace",headerName:"",flex:.2,renderCell:function(e){return Object(v.jsx)("div",{children:Object(v.jsx)(l.a,{variant:"contained",style:{color:"primary",backgroundColor:"red"},onClick:Object(j.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.delete("/race/".concat(e.id)).then().catch((function(e){alert(e)}));case 2:case"end":return t.stop()}}),t)}))),children:"Remove Race"})})}}];return Object(v.jsx)("div",{style:{height:400,width:"80%"},children:Object(v.jsx)(u.a,{rows:i,columns:r,pageSize:5,rowsPerPageOptions:[2]})})},P=function(e){var t=e.eventId,a=e.onClose,c=Object(n.useState)([]),i=Object(b.a)(c,2),s=i[0],r=i[1],o=Object(n.useState)(""),u=Object(b.a)(o,2),h=u[0],m=u[1],x=Object(n.useState)(""),p=Object(b.a)(x,2),f=p[0],g=p[1],w=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.get("/boat/class");case 2:t=e.sent.data,r(t.classes);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){w()}),[]);return Object(v.jsx)("div",{className:"register-boat-container",children:Object(v.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n=[];""!==f&&""!==h||n.push("The form is not valid, please ensure all values are present"),n.length>0?alert(n):O.post("http://localhost:3001/race",{eventId:parseInt(t),classId:f,startTime:h}).then((function(e){a()}),(function(e){alert(e.message)}))},children:[Object(v.jsx)("div",{className:"boat-title-text",children:"Add Race to this event"}),Object(v.jsxs)("div",{className:"boat-input-container",children:[Object(v.jsxs)("div",{style:{width:"100%"},children:[Object(v.jsx)("p",{children:"Start Time"}),Object(v.jsx)(M.a,{id:"filled-basic",variant:"standard",onChange:function(e){m(e.target.value)},value:h,style:{width:"100%"}})]}),Object(v.jsx)("div",{children:Object(v.jsxs)(I.a,{sx:{m:1,minWidth:200},children:[Object(v.jsx)(C.a,{id:"demo-simple-select-autowidth-label",children:"Yacht Class"}),Object(v.jsxs)(D.a,{labelId:"demo-simple-select-autowidth-label",id:"demo-simple-select-autowidth",value:f,onChange:function(e){g(e.target.value)},label:"Class",children:[Object(v.jsx)(T.a,{value:"",children:Object(v.jsx)("em",{children:"None"})}),s.map((function(e,t){return Object(v.jsx)(T.a,{value:t+1,children:e.name})}))]})]})}),Object(v.jsx)(l.a,{type:"submit",variant:"contained",children:"Save Race"})]})]})})},L={position:"fixed",height:"50%",width:"50%",top:"23%",left:"26%",backgroundColor:"#FFF",padding:"0px",zIndex:1e3},V={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, .7)",zIndex:1e3},G={display:"flex",flexFlow:"column",alignItems:"center"},W={marginLeft:"2%",marginTop:"2%"},H=function(e){var t=e.open,a=e.onClose,n=e.eventId;return t?s.a.createPortal(Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{style:V}),Object(v.jsxs)("div",{style:L,children:[Object(v.jsx)("div",{style:W,children:Object(v.jsx)(l.a,{onClick:a,variant:"contained",children:"Close Modal"})}),Object(v.jsx)("div",{style:G,children:Object(v.jsx)(P,{eventId:n,onClose:a})})]})]}),document.getElementById("portal")):null},z=a(60),_=a.n(z),U=function(){var e=Object(n.useState)(""),t=Object(b.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(""),s=Object(b.a)(i,2),o=s[0],u=s[1],h=Object(n.useState)(""),m=Object(b.a)(h,2),x=m[0],p=m[1],f=Object(n.useState)(""),g=Object(b.a)(f,2),w=g[0],S=g[1],N=Object(n.useState)(""),E=Object(b.a)(N,2),A=E[0],Y=E[1],k=Object(n.useState)(""),B=Object(b.a)(k,2),P=B[0],L=B[1],V=Object(n.useState)([]),G=Object(b.a)(V,2),W=G[0],z=G[1],U=Object(n.useState)([]),K=Object(b.a)(U,2),J=K[0],q=K[1],Q=Object(n.useState)([]),X=Object(b.a)(Q,2),Z=X[0],$=X[1],ee=Object(n.useState)(!1),te=Object(b.a)(ee,2),ae=te[0],ne=te[1],ce=Object(n.useState)([]),ie=Object(b.a)(ce,2),se=(ie[0],ie[1]),re=Object(r.g)(),le=function(){var e=Object(j.a)(d.a.mark((function e(){var t,a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("/club");case 3:return t=e.sent.data,z(t),e.next=7,O.get("/event/types");case 7:return a=e.sent.data,q(a),e.next=11,O.get("/event/".concat(re.id));case 11:n=e.sent.data,$(n),console.log(n),se(n[0].races),c(n[0].name),u(n[0].starttime.substring(0,16)),p(n[0].enddate.substring(0,16)),S(n[0].description),Y(n[0].eventtypeid),L(n[0].clubid),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(0),console.log(e.t0);case 26:case"end":return e.stop()}}),e,null,[[0,23]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){le()}),[]);return Object(v.jsx)("div",{className:"events-manage-container",children:Object(v.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=[];if(""!==A&&""!==a&&""!==w&&""!==P&&""!==o&&""!=x||t.push("The form is not valid, please ensure all values are present"),t.length>0)alert(t);else try{O.put("http://localhost:3001/event/".concat(parseInt(re.id)),{eventTypeId:A,name:a,description:w,clubId:P,startTime:_()(o).toISOString(),endDate:_()(x).toISOString()}).then((function(e){alert("Event successfully updated"),console.log(e)}),(function(e){console.log(e)}))}catch(n){console.log(n)}},style:{display:"flex",flexFlow:"column",justifyContent:"center"},children:[Object(v.jsxs)("div",{className:"events-manage-input-container",children:[Object(v.jsx)("div",{className:"events-manage-text",children:Object(v.jsx)(y.a,{variant:"h3",children:"Manage Event"})}),Object(v.jsxs)(R.a,{style:{width:"80%",padding:"20px"},children:[Object(v.jsx)(M.a,{id:"filled-basic",variant:"outlined",label:"Event Name",onChange:function(e){c(e.target.value)},value:a,style:{width:"100%",padding:"10px"}}),Object(v.jsx)(M.a,{id:"filled-basic",variant:"outlined",type:"datetime-local",onChange:function(e){u(e.target.value)},label:"Start Time",value:o,style:{width:"100%",padding:"10px"}}),Object(v.jsx)(M.a,{id:"filled-basic",variant:"outlined",onChange:function(e){p(e.target.value)},type:"datetime-local",label:"End Time",value:x,style:{width:"100%",padding:"10px"}}),Object(v.jsx)(M.a,{id:"filled-basic",label:"Description",onChange:function(e){S(e.target.value)},multiline:!0,rows:4,value:w,style:{width:"100%",padding:"10px"}}),Object(v.jsxs)(I.a,{sx:{m:1,width:"48%"},children:[Object(v.jsx)(C.a,{id:"demo-simple-select-autowidth-label",style:{width:"100%",padding:"10px"},children:"Event Type"}),Object(v.jsxs)(D.a,{labelId:"demo-simple-select-autowidth-label",id:"demo-simple-select-autowidth",value:A,onChange:function(e){Y(e.target.value)},label:"Event Type",style:{width:"100%"},children:[Object(v.jsx)(T.a,{value:"",children:Object(v.jsx)("em",{children:"None"})}),J.map((function(e,t){return Object(v.jsx)(T.a,{value:t+1,children:e.name})}))]})]}),Object(v.jsxs)(I.a,{sx:{m:1,width:"48%"},children:[Object(v.jsx)(C.a,{id:"demo-simple-select-autowidth-label",children:"Yacht Club"}),Object(v.jsxs)(D.a,{labelId:"demo-simple-select-autowidth-label",id:"demo-simple-select-autowidth",value:P,onChange:function(e){L(e.target.value)},label:"Yacht Club",children:[Object(v.jsx)(T.a,{value:"",children:Object(v.jsx)("em",{children:"None"})}),W.map((function(e,t){return Object(v.jsx)(T.a,{value:t+1,children:e.name})}))]})]})]})]}),Object(v.jsx)(H,{open:ae,onClose:function(){le(),ne(!1)},eventId:re.id}),Object(v.jsx)(l.a,{onClick:function(){ne(!0)},variant:"contained",style:{marginTop:"50px",marginRight:"100px",marginLeft:"100px",marginBottom:"25px"},children:"Add Race"}),Object(v.jsx)("div",{className:"race-display-container",children:Z.length>0?Object(v.jsx)(F,{event:Z,getData:le}):Object(v.jsx)("div",{children:"No info to show"})}),Object(v.jsx)(l.a,{type:"submit",variant:"contained",style:{marginTop:"50px",marginRight:"100px",marginLeft:"100px",marginBottom:"25px"},children:"Update Event"})]})})},K=function(e){var t=e.event,a=Object(n.useState)([]),c=Object(b.a)(a,2),i=c[0],s=c[1];Object(n.useEffect)((function(){var e=[];t.map((function(t){t.races.map((function(t){e.push({id:t.id,startTime:B()(t.starttime).format("MMM DD YYYY h:mm A")})}))})),s(e)}),[t]);var r=[{field:"id",headerName:"ID",width:70,hide:!0},{field:"startTime",headerName:"startTime",flex:.8},{field:"modifyEvent",headerName:"",flex:.2,renderCell:function(e){return Object(v.jsx)(x.b,{to:"/race/".concat(e.id,"/view"),className:"btn btn-primary",children:"View Race"})}}];return Object(v.jsx)("div",{style:{height:400,width:"100%"},children:Object(v.jsx)(u.a,{rows:i,columns:r,pageSize:5,rowsPerPageOptions:[2]})})},J=function(){var e=Object(n.useState)(""),t=Object(b.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(""),s=Object(b.a)(i,2),l=s[0],o=s[1],u=Object(n.useState)(""),h=Object(b.a)(u,2),m=h[0],p=h[1],f=Object(n.useState)(""),g=Object(b.a)(f,2),w=g[0],y=g[1],S=Object(n.useState)(""),N=Object(b.a)(S,2),E=N[0],C=N[1],T=Object(n.useState)(""),I=Object(b.a)(T,2),D=I[0],R=I[1],M=Object(n.useState)([]),A=Object(b.a)(M,2),Y=(A[0],A[1],Object(n.useState)([])),k=Object(b.a)(Y,2),F=(k[0],k[1],Object(n.useState)([])),P=Object(b.a)(F,2),L=P[0],V=P[1],G=Object(r.g)(),W=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("/event/".concat(G.id));case 3:t=e.sent.data,console.log(t),V(t),c(t[0].name),o(t[0].starttime),p(t[0].enddate),y(t[0].description),C(t[0].eventtypes.name),R(t[0].clubs.name),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){W()}),[]),Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{style:{marginLeft:"20px",marginTop:"20px"},children:Object(v.jsx)(x.b,{to:"/event/".concat(G.id,"/manage"),className:"btn btn-primary",children:"Manage event"})}),L.length>0?Object(v.jsxs)("div",{className:"event-view-container",children:[Object(v.jsxs)("div",{children:["Name: ",a]}),Object(v.jsxs)("div",{children:["StartTime: ",B()(l).format("MMM DD YYYY h:mm A")]}),Object(v.jsxs)("div",{children:["EndTime: ",B()(m).format("MMM DD YYYY h:mm A")]}),Object(v.jsxs)("div",{children:["Description: ",w]}),Object(v.jsxs)("div",{children:["Event Type: ",E]}),Object(v.jsxs)("div",{children:["Event Club: ",D]}),Object(v.jsx)("div",{className:"race-display-container",children:L.length>0?Object(v.jsx)(K,{event:L}):Object(v.jsx)("div",{children:"No info to show"})})]}):Object(v.jsx)("div",{children:"Loading"})]})},q=function(e){var t=e.raceBoats,a=Object(n.useState)([]),c=Object(b.a)(a,2),i=c[0],s=c[1];Object(n.useEffect)((function(){var e=[];console.log(t),t.map((function(t){e.push({id:t.boats.id,boatName:t.boats.name,position:t.position,startTime:B()(t.starttime).format("MMM DD YYYY h:mm A"),finishTIme:B()(t.finishtime).format("MMM DD YYYY h:mm A")})})),s(e)}),[]);return Object(v.jsx)("div",{style:{height:400,width:"100%"},children:Object(v.jsx)(u.a,{rows:i,columns:[{field:"id",headerName:"Boat ID",width:70,hide:!0},{field:"boatName",headerName:"Boat Name",flex:.25},{field:"position",headerName:"Finish Position",flex:.25},{field:"startTime",headerName:"Start Time",flex:.25},{field:"finishTIme",headerName:"Finish Time",flex:.25}],pageSize:5,rowsPerPageOptions:[2]})})},Q=function(){var e=Object(n.useState)([]),t=Object(b.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)([]),s=Object(b.a)(i,2),l=s[0],o=s[1],u=Object(n.useState)(""),h=Object(b.a)(u,2),m=h[0],p=h[1],f=Object(n.useState)(""),g=Object(b.a)(f,2),w=g[0],y=g[1],S=Object(r.g)(),N=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("/race/".concat(S.id));case 3:t=e.sent.data,c(t.race),console.log(t.race[0].raceboats),o(t.race[0].raceboats),p(t.race[0].starttime),y(t.race[0].id),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){N()}),[]),Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{style:{marginLeft:"20px",marginTop:"20px"},children:Object(v.jsx)(x.b,{to:"/race/".concat(S.id,"/manage"),className:"btn btn-primary",children:"Manage race"})}),a.length>0?Object(v.jsxs)("div",{className:"event-view-container",children:[Object(v.jsxs)("div",{children:["Race ID: ",w]}),Object(v.jsxs)("div",{children:["StartTime: ",B()(m).format("MMM DD YYYY h:mm A")]}),Object(v.jsx)("div",{className:"boats-display-container",children:l.length>0?Object(v.jsx)(q,{raceBoats:l}):Object(v.jsx)("div",{className:"boat-display-error",children:"No race info to show"})})]}):Object(v.jsx)("div",{children:"Loading"})]})},X=function(e){var t=e.raceId,a=e.onClose,c=Object(n.useState)([]),i=Object(b.a)(c,2),s=i[0],r=i[1],o=Object(n.useState)(""),u=Object(b.a)(o,2),h=u[0],m=u[1],x=Object(n.useState)(""),p=Object(b.a)(x,2),f=p[0],g=p[1],w=Object(n.useState)(""),y=Object(b.a)(w,2),S=y[0],N=y[1],E=Object(n.useState)(""),R=Object(b.a)(E,2),A=R[0],Y=R[1],k=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.get("/boat/");case 2:t=e.sent.data,r(t.boats);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){k()}),[]);return Object(v.jsx)("div",{className:"register-boat-container",children:Object(v.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n=[];""!==h&&""!==f&&""!==S&&""!==A||n.push("The form is not valid, please ensure all values are present"),n.length>0?alert(n):O.post("http://localhost:3001/race/".concat(t,"/boat"),{boatId:A,startTime:h,finishTime:f,position:parseInt(S)}).then((function(e){a()}),(function(e){alert(e.message)}))},children:[Object(v.jsx)("div",{className:"boat-title-text",children:"Add Boat to this race"}),Object(v.jsxs)("div",{className:"boat-input-container",children:[Object(v.jsx)("div",{children:Object(v.jsxs)(I.a,{sx:{m:1,minWidth:200},children:[Object(v.jsx)(C.a,{id:"demo-simple-select-autowidth-label",children:"Boat"}),Object(v.jsxs)(D.a,{labelId:"demo-simple-select-autowidth-label",id:"demo-simple-select-autowidth",value:A,onChange:function(e){Y(e.target.value)},label:"Class",children:[Object(v.jsx)(T.a,{value:"",children:Object(v.jsx)("em",{children:"None"})}),s.map((function(e,t){return Object(v.jsx)(T.a,{value:t+1,children:e.name})}))]})]})}),Object(v.jsxs)("div",{style:{width:"100%"},children:[Object(v.jsx)("p",{children:"Start Time"}),Object(v.jsx)(M.a,{id:"filled-basic",variant:"standard",onChange:function(e){m(e.target.value)},value:h,style:{width:"100%"}})]}),Object(v.jsxs)("div",{style:{width:"100%"},children:[Object(v.jsx)("p",{children:"Finish Time"}),Object(v.jsx)(M.a,{id:"filled-basic",variant:"standard",onChange:function(e){g(e.target.value)},value:f,style:{width:"100%"}})]}),Object(v.jsxs)("div",{style:{width:"100%"},children:[Object(v.jsx)("p",{children:"Position"}),Object(v.jsx)(M.a,{id:"filled-basic",variant:"standard",onChange:function(e){N(e.target.value)},value:S,style:{width:"100%"}})]}),Object(v.jsx)(l.a,{type:"submit",variant:"contained",style:{marginTop:"15px"},children:"Save Boat to race"})]})]})})},Z={position:"fixed",height:"50%",width:"50%",top:"23%",left:"26%",backgroundColor:"#FFF",padding:"0px",zIndex:1e3},$={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, .7)",zIndex:1e3},ee={display:"flex",flexFlow:"column",alignItems:"center"},te={marginLeft:"2%",marginTop:"2%"},ae=function(e){var t=e.open,a=e.onClose,n=e.raceId;return t?s.a.createPortal(Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{style:$}),Object(v.jsxs)("div",{style:Z,children:[Object(v.jsx)("div",{style:te,children:Object(v.jsx)(l.a,{onClick:a,variant:"contained",children:"Close Modal"})}),Object(v.jsx)("div",{style:ee,children:Object(v.jsx)(X,{raceId:n,onClose:a})})]})]}),document.getElementById("portal")):null},ne=function(e){var t=e.raceId,a=e.raceBoats,c=(e.getData,Object(n.useState)([])),i=Object(b.a)(c,2),s=i[0],r=i[1];Object(n.useEffect)((function(){var e=[];a.map((function(t){e.push({id:t.id,boatid:t.boats.id,name:t.boats.name,startTime:B()(t.starttime).format("MMM DD YYYY h:mm A"),finishTime:B()(t.finishtime).format("MMM DD YYYY h:mm A"),position:t.position})})),r(e)}),[]);var o=[{field:"id",headerName:"ID",hide:!0},{field:"boatid",headerName:"ID",hide:!0},{field:"name",headerName:"Name",flex:.04},{field:"position",headerName:"position",flex:.05},{field:"startTime",headerName:"StartTime",flex:.15},{field:"finishTime",headerName:"FinishTime",flex:.15},{field:"modifyBoat",headerName:"",flex:.2,renderCell:function(e){return Object(v.jsx)(x.b,{to:"/race/".concat(t,"/boat/").concat(e.row.boatid,"/manage"),className:"btn btn-primary",children:Object(v.jsx)(l.a,{variant:"contained",style:{color:"primary",backgroundColor:"blue"},children:"Update boat details"})})}},{field:"deleteBoat",headerName:"",flex:.15,renderCell:function(e){return Object(v.jsx)("div",{children:Object(v.jsx)(l.a,{variant:"contained",style:{color:"primary",backgroundColor:"red"},onClick:Object(j.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,O.delete("/race/".concat(e.id,"/boat/").concat(e.row.boatid)).then().catch((function(e){alert(e)}));case 3:case"end":return t.stop()}}),t)}))),children:"Remove Boat"})})}}];return Object(v.jsx)("div",{style:{height:400,width:"100%"},children:Object(v.jsx)(u.a,{rows:s,columns:o,pageSize:5,rowsPerPageOptions:[2]})})},ce=function(){var e=Object(n.useState)(""),t=Object(b.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(""),s=Object(b.a)(i,2),o=s[0],u=s[1],h=Object(n.useState)(""),m=Object(b.a)(h,2),x=m[0],p=m[1],f=Object(n.useState)([]),g=Object(b.a)(f,2),w=g[0],S=g[1],N=Object(n.useState)([]),E=Object(b.a)(N,2),A=E[0],Y=E[1],k=Object(n.useState)([]),B=Object(b.a)(k,2),F=(B[0],B[1]),P=Object(n.useState)(!1),L=Object(b.a)(P,2),V=L[0],G=L[1],W=Object(r.g)(),H=function(){var e=Object(j.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("/boat/class");case 3:return t=e.sent.data,S(t.classes),e.next=7,O.get("/race/".concat(W.id));case 7:a=e.sent.data,console.log(a),F(a),Y(a.race[0].raceboats),u(a.race[0].starttime.substring(0,16)),c(a.race[0].eventid),p(a.race[0].classid),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){H()}),[]);return Object(v.jsx)("div",{className:"events-manage-container",children:Object(v.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=[];if(""!==x&&""!==o&&""!==a||t.push("The form is not valid, please ensure all values are present"),t.length>0)alert(t);else try{O.put("http://localhost:3001/race/".concat(parseInt(W.id)),{eventId:parseInt(a),classId:x,startTime:_()(o).toISOString()}).then((function(e){alert("Race successfully updated"),console.log(e)}),(function(e){console.log(e)}))}catch(n){console.log(n)}},style:{display:"flex",flexFlow:"column",justifyContent:"center",width:"97%"},children:[Object(v.jsxs)("div",{className:"events-manage-input-container",children:[Object(v.jsx)("div",{className:"events-manage-text",children:Object(v.jsx)(y.a,{variant:"h3",children:"Manage Race"})}),Object(v.jsxs)(R.a,{style:{width:"80%",padding:"20px",display:"flex",flexFlow:"column",alignItems:"center"},children:[Object(v.jsx)(M.a,{id:"filled-basic",variant:"standard",type:"datetime-local",label:"Start Time",onChange:function(e){u(e.target.value)},value:o,style:{width:"100%"}}),Object(v.jsx)("div",{children:Object(v.jsxs)(I.a,{sx:{m:1,minWidth:200,marginTop:"30px"},children:[Object(v.jsx)(C.a,{id:"demo-simple-select-autowidth-label",children:"Race Class"}),Object(v.jsxs)(D.a,{labelId:"demo-simple-select-autowidth-label",id:"demo-simple-select-autowidth",value:x,onChange:function(e){p(e.target.value)},label:"Yacht CLass",children:[Object(v.jsx)(T.a,{value:"",children:Object(v.jsx)("em",{children:"None"})}),w.map((function(e,t){return Object(v.jsx)(T.a,{value:t+1,children:e.name})}))]})]})})]})]}),Object(v.jsx)(ae,{open:V,onClose:function(){H(),G(!1)},raceId:W.id}),Object(v.jsx)(l.a,{onClick:function(){G(!0)},variant:"contained",style:{marginTop:"50px",marginRight:"100px",marginLeft:"100px",marginBottom:"25px"},children:"Add Boat"}),Object(v.jsx)("div",{className:"race-display-container",children:A.length>0?Object(v.jsx)(ne,{raceId:W.id,raceBoats:A,getData:H}):Object(v.jsx)("div",{style:{justifySelf:"center"},children:"No boats in this race"})}),Object(v.jsx)(l.a,{type:"submit",variant:"contained",style:{marginTop:"50px",marginRight:"100px",marginLeft:"100px",marginBottom:"25px"},children:"Update Race"})]})})},ie=function(){var e=Object(n.useState)(""),t=Object(b.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(""),s=Object(b.a)(i,2),o=s[0],u=s[1],h=Object(n.useState)(""),m=Object(b.a)(h,2),p=m[0],f=m[1],g=Object(r.g)(),w=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("/race/".concat(g.id,"/boat/").concat(g.id2));case 3:t=e.sent.data,console.log(t[0]),u(t[0].finishtime.substring(0,16)),c(t[0].starttime.substring(0,16)),f(t[0].position),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){w()}),[]);return Object(v.jsxs)("div",{className:"events-manage-container",children:[Object(v.jsx)("div",{children:Object(v.jsx)(x.b,{to:"/race/".concat(g.id,"/manage"),className:"btn btn-primary",children:"Back to race"})}),Object(v.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=[];if(""!==a&&""!==o&&""!==p||t.push("The form is not valid, please ensure all values are present"),t.length>0)alert(t);else try{O.put("http://localhost:3001/race/".concat(parseInt(g.id),"/boat"),{boatId:parseInt(g.id2),startTime:_()(a).toISOString(),finishTime:_()(o).toISOString(),position:parseInt(p)}).then((function(e){alert("Boat successfully updated"),console.log(e)}),(function(e){console.log(e)}))}catch(n){console.log(n)}},style:{display:"flex",flexFlow:"column",justifyContent:"center",width:"70%"},children:[Object(v.jsxs)("div",{className:"events-manage-input-container",children:[Object(v.jsx)("div",{className:"events-manage-text",children:Object(v.jsx)(y.a,{variant:"h3",children:"Manage Boat"})}),Object(v.jsxs)(R.a,{style:{width:"80%",padding:"20px",display:"flex",flexFlow:"column",alignItems:"center"},children:[Object(v.jsx)("div",{style:{width:"80%",padding:"20px"},children:Object(v.jsx)(M.a,{id:"filled-basic",variant:"standard",type:"datetime-local",label:"Start Time",onChange:function(e){c(e.target.value)},value:a,style:{width:"100%"}})}),Object(v.jsx)("div",{style:{width:"80%",padding:"20px"},children:Object(v.jsx)(M.a,{id:"filled-basic",variant:"standard",type:"datetime-local",label:"Finish Time",onChange:function(e){u(e.target.value)},value:o,style:{width:"100%"}})}),Object(v.jsx)("div",{style:{width:"80%",padding:"20px"},children:Object(v.jsx)(M.a,{id:"filled-basic",variant:"standard",onChange:function(e){f(e.target.value)},value:p,style:{width:"100%"}})})]})]}),Object(v.jsx)(l.a,{type:"submit",variant:"contained",style:{marginTop:"50px",marginRight:"100px",marginLeft:"100px",marginBottom:"25px"},children:"Update Boat"})]})]})},se=a(28),re=a(63),le=a(142),oe=a.n(le),de=function(e){var t=Object(n.useState)([]),a=Object(b.a)(t,2),c=a[0],i=a[1];Object(n.useEffect)((function(){console.log(e.events),s()}),[e]);var s=function(){var t=e.events.map((function(e){return{id:e.id,eventName:e.name,startTime:e.starttime}}));i(t)},r=[{field:"id",headerName:"ID",width:70,hide:!0},{field:"eventName",headerName:"Event name",flex:1},{field:"startTime",headerName:"Start Time",flex:.5},{field:"viewEvent",headerName:"",flex:.5,renderCell:function(e){return Object(v.jsx)(x.b,{to:"/event/".concat(e.id,"/view"),className:"btn btn-primary",children:"View Event"})}}];return Object(v.jsxs)("div",{style:{height:400,width:"170%",marginLeft:"-40%",display:"flex",flexFlow:"column"},children:[Object(v.jsx)("h3",{style:{},children:"Events results:"}),Object(v.jsx)(u.a,{rows:c,columns:r,pageSize:5,rowsPerPageOptions:[2]})]})},je=function(){var e=Object(n.useState)([]),t=Object(b.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(""),s=Object(b.a)(i,2),r=s[0],l=s[1],o=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=[],""===r&&a.push("The form is not valid, please provide a search value"),!(a.length>0)){e.next=6;break}return alert(a),e.abrupt("return");case 6:return e.next=8,O.get("/event/search/?q=".concat(r));case 8:n=e.sent.data,c(n),console.log(n);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsx)("div",{className:"input-container-search",children:Object(v.jsxs)("form",{onSubmit:o,children:[Object(v.jsxs)(R.a,{sx:{p:"2px 4px",display:"flex",alignItems:"center",width:400},children:[Object(v.jsx)(se.c,{sx:{ml:1,flex:1},placeholder:"Search by event name",onChange:function(e){e.preventDefault(),l(e.target.value)},value:r,inputProps:{"aria-label":"search google maps"}}),Object(v.jsx)(re.a,{type:"submit",sx:{p:"10px"},"aria-label":"search",children:Object(v.jsx)(oe.a,{})})]}),a.length>0?Object(v.jsx)("div",{children:Object(v.jsx)(de,{events:a})}):Object(v.jsxs)("div",{style:{display:"flex",justifyContent:"center",marginTop:"20px"},children:["No event search results"," "]})]})})},be={HOME:"/",REGISTERBOATS:"/register-boat",EVENTHOMEPAGE:"/event/home",EVENTCREATEPAGE:"/event/create",EVENTMANAGE:"/event/:id/manage",EVENTVIEW:"/event/:id/view",EVENTSEARCH:"/event/search",RACEVIEW:"/race/:id/view",RACEMANAGER:"/race/:id/manage",BOATMANAGER:"/race/:id/boat/:id2/manage"};var ue=function(){return Object(v.jsxs)("div",{className:"app",children:[Object(v.jsx)(S,{}),Object(v.jsxs)(r.c,{children:[Object(v.jsx)(r.a,{path:be.HOME,caseSensitive:!1,element:Object(v.jsx)(N,{})}),Object(v.jsx)(r.a,{path:be.EVENTS,caseSensitive:!1,element:Object(v.jsx)(E,{})}),Object(v.jsx)(r.a,{path:be.REGISTERBOATS,caseSensitive:!1,element:Object(v.jsx)(A,{})}),Object(v.jsx)(r.a,{path:be.EVENTHOMEPAGE,caseSensitive:!1,element:Object(v.jsx)(E,{})}),Object(v.jsx)(r.a,{path:be.EVENTCREATEPAGE,caseSensitive:!1,element:Object(v.jsx)(Y,{})}),Object(v.jsx)(r.a,{path:be.EVENTMANAGE,caseSensitive:!1,element:Object(v.jsx)(U,{})}),Object(v.jsx)(r.a,{path:be.EVENTVIEW,caseSensitive:!1,element:Object(v.jsx)(J,{})}),Object(v.jsx)(r.a,{path:be.RACEVIEW,caseSensitive:!1,element:Object(v.jsx)(Q,{})}),Object(v.jsx)(r.a,{path:be.RACEMANAGER,caseSensitive:!1,element:Object(v.jsx)(ce,{})}),Object(v.jsx)(r.a,{path:be.BOATMANAGER,caseSensitive:!1,element:Object(v.jsx)(ie,{})}),Object(v.jsx)(r.a,{path:be.EVENTSEARCH,caseSensitive:!1,element:Object(v.jsx)(je,{})})]})]})};s.a.render(Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsx)(x.a,{children:Object(v.jsx)(ue,{})})}),document.getElementById("root"))}},[[204,1,2]]]);
//# sourceMappingURL=main.f0416807.chunk.js.map